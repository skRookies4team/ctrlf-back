# ğŸ“˜ **4.5 í€´ì¦ˆ ì´íƒˆ ê°ì§€**

## âœ” url

**POST /quiz/attempt/{attemptId}/leave**

---

### âœ” ì„¤ëª…

í€´ì¦ˆ ì§„í–‰ ì¤‘ ì‚¬ìš©ìê°€ ì•„ë˜ì™€ ê°™ì€ í–‰ë™ì„ í–ˆì„ ë•Œ Backendì— ê¸°ë¡í•œë‹¤.

- ì°½ ì´íƒˆ / window blur
- ë‹¤ë¥¸ íƒ­ ì´ë™
- ëª¨ë°”ì¼ ì•± background
- í˜ì´ì§€ ë²—ì–´ë‚¨

â†’ ì´íƒˆ ê¸°ë¡ì€ **ë¶€ì •í–‰ìœ„ íƒì§€Â·ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ**ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- Quiz Leave Tracking Rule ì˜ˆì‹œ:
  - leave_count ì¦ê°€
  - ë§ˆì§€ë§‰ ì´íƒˆ ì‹œê°„ ê¸°ë¡
  - total_leave_seconds ëˆ„ì 

---

### âœ” ê¶Œí•œ

`ROLE_USER`

---

# ğŸ“Œ **Request**

| key       | ì„¤ëª…           | value íƒ€ì…       | ì˜µì…˜     | Nullable | ì˜ˆì‹œ                    |
| --------- | -------------- | ---------------- | -------- | -------- | ----------------------- |
| timestamp | ì´íƒˆ ë°œìƒ ì‹œê° | string(datetime) | required | false    | `"2025-01-01T12:00:00"` |
| reason    | ì´íƒˆ ì‚¬ìœ  ì½”ë“œ | string           | required | false    | `"window_blur"`         |

### reason ì˜ˆì‹œ ê°’

| code                | ì„¤ëª…                 |
| ------------------- | -------------------- |
| `window_blur`       | ì°½ í¬ì»¤ìŠ¤ ë²—ì–´ë‚¨     |
| `tab_change`        | íƒ­ ì´ë™              |
| `page_leave`        | í˜ì´ì§€ ì´íƒˆ          |
| `visibility_hidden` | í™”ë©´ ê°€ë¦¼ ì²˜ë¦¬       |
| `app_background`    | ëª¨ë°”ì¼ ì•± ë°±ê·¸ë¼ìš´ë“œ |

---

# ğŸ“Œ **Query Parameter**

| key  | ì„¤ëª… | value íƒ€ì… | ì˜µì…˜ | Nullable | ì˜ˆì‹œ |
| ---- | ---- | ---------- | ---- | -------- | ---- |
| ì—†ìŒ | -    | -          | -    | -        | -    |

---

# ğŸ“Œ **Response**

| key         | ì„¤ëª…             | value íƒ€ì…       | ì˜µì…˜     | Nullable | ì˜ˆì‹œ                    |
| ----------- | ---------------- | ---------------- | -------- | -------- | ----------------------- |
| recorded    | ê¸°ë¡ ì„±ê³µ ì—¬ë¶€   | boolean          | required | false    | `true`                  |
| leaveCount  | ëˆ„ì  ì´íƒˆ íšŸìˆ˜   | number           | required | false    | `3`                     |
| lastLeaveAt | ë§ˆì§€ë§‰ ì´íƒˆ ì‹œê° | string(datetime) | required | false    | `"2025-01-01T12:00:00"` |

---

# ğŸ“Œ **Example**

```json
{
  "recorded": true,
  "leaveCount": 3,
  "lastLeaveAt": "2025-01-01T12:00:00"
}
```

---

# ğŸ“Œ **Status**

| status                        | ì˜ë¯¸                                      |
| ----------------------------- | ----------------------------------------- |
| **200 OK**                    | ê¸°ë¡ ì„±ê³µ                                 |
| **400 Bad Request**           | ì…ë ¥ê°’ ì˜¤ë¥˜                               |
| **401 Unauthorized**          | ì¸ì¦ ì‹¤íŒ¨                                 |
| **403 Forbidden**             | í•´ë‹¹ attempt ì ‘ê·¼ ë¶ˆê°€                    |
| **404 Not Found**             | attempt ì¡´ì¬í•˜ì§€ ì•ŠìŒ                     |
| **409 Conflict**              | ì´ë¯¸ ì œì¶œëœ attemptì— ëŒ€í•œ ì´íƒˆ ê¸°ë¡ ë¶ˆê°€ |
| **500 Internal Server Error** | ì„œë²„ ì˜¤ë¥˜                                 |
